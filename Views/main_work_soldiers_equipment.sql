CREATE VIEW work_soldiers_equipment as
select *
from Soldiers S
left outer join Lending L on S.SoldierId = L.SoldierId
left outer join Equipment E on E.Id = L.EquipmentId
where L.DateOfReturn is null and E.worker is TRUE;

INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (4362, 'Wicman', null, 'Orin', 6142, 10284, 7362, 4362, 10293, '1445904000000', 15, null, 10293, 'Grenade launcher', 231, 30, 12, 15, 1, 103, null, 6, null, 200);
INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (4362, 'Wicman', null, 'Orin', 6142, 10284, 7362, 4362, 12345, '1308787200000', 38, null, 12345, 'Machine gun', 231, 20, 34, 38, 1, 261, null, 5, null, 100);
INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (6622, 'Elichai', null, 'Avishay', 6142, 19372, 7362, 6622, 34257, '1226620800000', 1, null, 34257, 'Ghillie suit', 724, 50, 49, 1, 1, 345, null, 5, null, 500);
INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (6643, 'Herenberg', null, 'Itamar', 6142, 83021, 7362, 6643, 64648, '1329955200000', 2, null, 64648, 'gun', 231, 100, 76, 2, 1, 264, null, 5, null, null);
INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (9284, 'Cohen', null, 'Noam', 2874, null, null, 9284, 10293, '1656288000000', 15, null, 10293, 'Grenade launcher', 231, 30, 12, 15, 1, 103, null, 6, null, 200);
INSERT INTO work_soldiers_equipment (soldierId, slName, Weight, sfName, roomId, equId, dutyId, "SoldierId:1", EquipmentId, DateOfLending, EquipmentWeight, DateOfReturn, Id, Name, ManufacturerId, MinOfStack, Amount, "Weight:1", worker, "roomId:1", eDescription, cost, onVehicleId, area) VALUES (9292, 'Kelerman', null, 'Zefanya', 7432, null, null, 9292, 10293, '1656288000000', 15, null, 10293, 'Grenade launcher', 231, 30, 12, 15, 1, 103, null, 6, null, 200);
